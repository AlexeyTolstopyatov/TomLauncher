<ui:FluentWindow x:Class="TomLauncher.View.Windows.NewPackageWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:local="clr-namespace:TomLauncher.ViewModel.Windows"
        mc:Ignorable="d"
        Title="NewPackageWindow"
        Width="600" Height="Auto"
        SizeToContent="Height">
    <ui:FluentWindow.DataContext>
        <local:NewPackageViewModel/>
    </ui:FluentWindow.DataContext>
    <StackPanel>
        <ui:TitleBar
            Icon="{ui:SymbolIcon Cube16}"
            Title="New Package"/>
        
        <ui:Card>
            <StackPanel>
                <TextBlock 
                    Text="{DynamicResource NewCardTitle}"/>
                <Label
                    Content="{DynamicResource NewCardDescription}"/>
                <StackPanel
                    Margin="10,5,10,5">
                    <Label 
                        Content="{DynamicResource Name}"/>
                    <TextBox
                        Text="{Binding Model.Name, UpdateSourceTrigger=PropertyChanged}"
                        />
                </StackPanel>
                <StackPanel
                    Margin="10,0,10,0">
                    <Label Content="Path"/>
                    <ui:TextBox
                        Text="{Binding Model.Path, UpdateSourceTrigger=PropertyChanged}"
                        Margin="0,0,0,5"/>
                    <!--Open the SelectDirectory dialog -> * -->
                    <ui:Button
                        Command="{Binding BrowseCommand, UpdateSourceTrigger=PropertyChanged}"
                        Content="{DynamicResource Browse}"/>
                </StackPanel>
                <StackPanel
                    Margin="10,0,10,0">
                    <Label
                        Margin="0,10,0,10"
                        Content="{DynamicResource Game}"/>
                    <ui:CardControl
                        Icon="{ui:SymbolIcon Branch16}">
                        <ui:CardControl.Header>
                            <StackPanel>
                                <TextBlock Text="{DynamicResource Version}"/>
                                <Label Content="{DynamicResource NewGameDescription}"/>
                            </StackPanel>
                        </ui:CardControl.Header>
                        <ui:CardControl.Content>
                            <TextBox
                                Text="{Binding Model.MinecraftString, UpdateSourceTrigger=PropertyChanged}"
                                ToolTip="{DynamicResource NewVersionToolTip}"
                                Width="100"/>
                        </ui:CardControl.Content>
                    </ui:CardControl>
                    <Label
                        Margin="0,10,0,10"
                        Content="{DynamicResource Loader}"/>
                    <ui:CardExpander
                        IsExpanded="False"
                        Icon="{ui:SymbolIcon Settings16}">
                        <ui:CardExpander.Header>
                            <StackPanel>
                                <TextBlock Text="{DynamicResource NewLoaderData}"/>
                                <Label Content="{DynamicResource NewLoaderDescription}"/>
                            </StackPanel>
                        </ui:CardExpander.Header>
                        <ui:CardExpander.Content>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                        
                                <StackPanel>
                                    <TextBlock
                                        Margin="10,10,10,10"
                                        Text="{DynamicResource Loader}"/>
                                    <TextBlock
                                        ToolTip="{DynamicResource NewVersionToolTip}"
                                        Margin="10,10,10,10"
                                        Text="{DynamicResource Version}"/>
                                </StackPanel>
                        
                                <StackPanel
                                    Grid.Column="1">
                                    <ComboBox
                                        IsEditable="False"
                                        ItemsSource="{Binding Model.LoaderTypes, UpdateSourceTrigger=PropertyChanged}"
                                        SelectedItem="{Binding Model.LoaderType, UpdateSourceTrigger=PropertyChanged}">
                                    </ComboBox>
                                    <ui:TextBox
                                        Text="{Binding Model.LoaderString, UpdateSourceTrigger=PropertyChanged}"
                                        ToolTip="{DynamicResource NewVersionToolTip}">
                                    </ui:TextBox>
                                </StackPanel>
                            </Grid>
                        </ui:CardExpander.Content>
                    </ui:CardExpander>
                    
                </StackPanel>
                <WrapPanel
                    Margin="10,20,10,10">
                    <ui:Button
                        Click="CreateButtonOnClick"
                        Appearance="Primary"
                        Width="200"
                        Content="{DynamicResource Create}"/>
                    <ui:Button
                        Width="200"
                        Click="CancelButtonOnClick"
                        Content="{DynamicResource Cancel}"/>
                </WrapPanel>
            </StackPanel>
        </ui:Card>
        
    </StackPanel>
</ui:FluentWindow>
